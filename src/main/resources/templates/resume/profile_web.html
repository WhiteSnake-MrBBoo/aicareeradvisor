<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Konnect - 프로필 입력</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">

    <style>
        :root {
            /* Google Primary Blue (Material Blue 500/600) */
            --bs-primary: #1a73e8; 
            --bs-primary-rgb: 26, 115, 232;
            /* Material Info Blue (A bit lighter than primary for alerts) */
            --bs-info: #4285f4;
            --bs-info-rgb: 66, 133, 244;
            /* Google Yellow/Warning (Amber 500) */
            --bs-warning: #fcc21b;
            --bs-warning-rgb: 252, 194, 27;
            /* Google Green/Success (Green 500) */
            --bs-success: #34a853;
            --bs-success-rgb: 52, 168, 83;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background-color: var(--bs-light); /* Light Gray Background */
        }

        /* Material Card Styling */
        .card {
            border: none;
            border-radius: 12px; /* More rounded corners */
            transition: box-shadow 0.3s ease-in-out;
        }

        /* Material Header Styling (Primary color for Login Info) */
        .card-header-primary {
            background-color: var(--bs-primary) !important;
            color: white;
            border-top-left-radius: 12px;
            border-top-right-radius: 12px;
            padding-top: 1rem;
            padding-bottom: 1rem;
        }

        /* Material Form Controls */
        .form-control, .form-select {
            border-radius: 8px; /* Rounded input fields */
        }
        
        /* Sidebar Menu Active State - Material Focus Ripple Effect (Simulated) */
        .nav-link.active {
            color: var(--bs-primary) !important;
            background-color: #e8f0fe; /* Light Blue background */
            border-radius: 8px; 
            font-weight: 500;
        }

        /* Main Nav Link Style */
        .nav-link {
            padding: 0.75rem 1rem;
        }
    </style>
</head>

<body class="bg-light">
    <div class="container-fluid">
        <div class="row">
            <nav class="col-md-2 d-md-block bg-white sidebar shadow-sm border-end" style="min-height: 100vh;">
                <div class="position-sticky pt-3">
                    <div class="px-3 mb-4">
                        <h4 class="text-primary fw-bold">Konnect</h4>
                        <small class="text-muted">AI가 추천하는 진로</small>
                    </div>

                    <ul class="nav flex-column gap-2">
                        <li class="nav-item">
                            <a class="nav-link" href="/dashboard">
                                <i class="bi bi-grid-fill me-2"></i>
                                대시보드
                            </a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link active" aria-current="page" href="/profile">
                                <i class="bi bi-person-fill me-2"></i>
                                내 프로필
                            </a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/career-analysis">
                                <i class="bi bi-bar-chart-fill me-2"></i>
                                커리어 분석
                            </a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/goals">
                                <i class="bi bi-flag-fill me-2"></i>
                                목표 관리
                            </a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/cover-letter">
                                <i class="bi bi-file-text-fill me-2"></i>
                                자기소개서
                            </a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link" href="/job-search">
                                <i class="bi bi-search me-2"></i>
                                직업 탐색
                            </a>
                        </li>
                    </ul>
                </div>
            </nav>

            <main class="col-md-10 ms-sm-auto px-md-5 py-4">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h3 class="fw-bold text-dark">프로필 작성</h3>
                    <div class="d-flex align-items-center gap-3">
                        <span class="badge rounded-pill bg-light text-dark shadow-sm py-2 px-3 d-flex align-items-center">
                            <i class="bi bi-coin text-warning me-2 fs-5"></i>
                            <span class="fw-bold small">800 포인트</span>
                        </span>
                        
                        <button class="btn btn-primary shadow-sm rounded-pill btn-sm fw-medium">
                            충전
                        </button>
                        
                        <button class="btn btn-light text-secondary rounded-circle" style="width: 40px; height: 40px; padding: 0;">
                            <i class="bi bi-bell fs-5"></i>
                        </button>
                        
                        <div class="rounded-circle bg-primary text-white d-flex align-items-center justify-content-center shadow-sm" style="width: 40px; height: 40px;">
                            <i class="bi bi-person-fill fs-5"></i>
                        </div>
                    </div>
                </div>

                <div class="alert alert-info border-0 shadow-sm rounded-3 mb-5 p-3" role="alert">
                    <div class="d-flex align-items-center">
                        <i class="bi bi-info-circle-fill me-3 fs-4 text-primary"></i>
                        <div>
                            <h6 class="mb-1 fw-bold text-dark">프로필 작성 중</h6>
                            <p class="mb-0 small text-dark">모든 항목을 작성하면 더욱 **정확한 AI 분석**을 받을 수 있습니다. 계속 작성해주세요.</p>
                        </div>
                    </div>
                    <div class="progress mt-3" style="height: 10px; border-radius: 5px;">
                        <div class="progress-bar bg-primary" role="progressbar" style="width: 40%" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100"></div>
                    </div>
                    <small class="text-muted d-block mt-1">40% 완료 (4/10 섹션 작성됨)</small>
                </div>

                <div class="row g-4">
                    <div class="col-lg-6">
                        <div class="card shadow-lg mb-4 rounded-3">
                            <div class="card-header card-header-primary">
                                <h5 class="mb-0 fw-bold">
                                    <i class="bi bi-person-circle me-2"></i>
                                    로그인 정보
                                </h5>
                            </div>
                            <div class="card-body">
                                <div class="mb-3">
                                    <label class="form-label fw-medium text-muted">
                                        <i class="bi bi-envelope me-1"></i>
                                        로그인 아이디
                                    </label>
                                    <input type="text" class="form-control" value="white_snake@example.com" readonly style="background-color: #f5f5f5;">
                                </div>

                                <div class="mb-3">
                                    <label class="form-label fw-medium text-muted">
                                        <i class="bi bi-person-badge me-1"></i>
                                        닉네임
                                    </label>
                                    <input type="text" class="form-control" value="Kim (White_Snake)boohwan" readonly style="background-color: #f5f5f5;">
                                </div>

                                <div class="mb-4">
                                    <label class="form-label fw-medium text-muted">
                                        <i class="bi bi-calendar-check me-1"></i>
                                        가입일
                                    </label>
                                    <input type="text" class="form-control" value="2024년 11월 15일" readonly style="background-color: #f5f5f5;">
                                </div>

                                <button class="btn btn-outline-primary w-100 rounded-pill fw-medium" onclick="handlePasswordChange()">
                                    <i class="bi bi-key me-2"></i>
                                    비밀번호 변경
                                </button>
                            </div>
                        </div>

                        <div class="card shadow-lg mb-4 rounded-3">
                            <div class="card-header bg-white border-bottom p-3">
                                <h5 class="mb-0 fw-bold text-dark">
                                    <i class="bi bi-compass text-primary me-2"></i>
                                    희망 커리어 방향
                                </h5>
                            </div>
                            <div class="card-body">
                                <div class="mb-3">
                                    <label for="industryField" class="form-label fw-medium">희망 산업 분야</label>
                                    <input type="text" class="form-control" id="industryField" placeholder="예: IT/SW, 금융, 바이오/헬스케어">
                                    <small class="text-muted">관심 있는 산업 분야를 입력해주세요</small>
                                </div>

                                <div class="mb-3">
                                    <label for="desiredJob" class="form-label fw-medium">희망 직무</label>
                                    <input type="text" class="form-control" id="desiredJob" placeholder="예: 백엔드 개발자, 데이터 사이언티스트">
                                    <small class="text-muted">구체적인 직무를 입력해주세요</small>
                                </div>

                                <div class="mb-4">
                                    <label for="workStyle" class="form-label fw-medium">선호하는 업무 스타일</label>
                                    <select class="form-select" id="workStyle">
                                        <option selected disabled>업무 환경에서 선호는 것 선택</option>
                                        <option value="team">팀 협업 중심</option>
                                        <option value="individual">개인 작업 중심</option>
                                        <option value="flexible">유연한 근무</option>
                                        <option value="structured">체계적인 근무</option>
                                        <option value="creative">창의적 환경</option>
                                    </select>
                                </div>

                                <button class="btn btn-primary w-100 rounded-pill fw-medium shadow-sm" onclick="saveCareerDirection()">
                                    <i class="bi bi-save me-2"></i>
                                    희망 커리어 저장
                                </button>
                            </div>
                        </div>

                        <div class="card shadow-lg mb-4 rounded-3">
                            <div class="card-header bg-white border-bottom p-3">
                                <h5 class="mb-0 fw-bold text-dark">
                                    <i class="bi bi-clipboard-check text-success me-2"></i>
                                    보유 역량 및 경험
                                </h5>
                            </div>
                            <div class="card-body">
                                <p class="text-muted small mb-3">주요 업무 상황</p>

                                <div class="card p-3 mb-3 bg-light border-0 shadow-sm rounded-3">
                                    <div class="d-flex justify-content-between align-items-start mb-2">
                                        <div>
                                            <h6 class="mb-1 fw-bold text-primary">AWS/WEB 어플리케이션(웹앱)/AllPython/Vision</h6>
                                            <small class="text-muted">(주)우리신세계/예약</small>
                                        </div>
                                        <button class="btn btn-sm btn-outline-danger border-0 rounded-circle" style="width: 30px; height: 30px; padding: 0;" onclick="removeExperience(1)">
                                            <i class="bi bi-trash fs-6"></i>
                                        </button>
                                    </div>
                                    <p class="small mb-2 text-dark">
                                        <i class="bi bi-calendar3 me-1"></i>
                                        2024.01 ~ 2025.02
                                    </p>
                                    <p class="small mb-0 text-muted" style="white-space: pre-wrap;">
                                        WEB 어플리케이션 개발 및 AWS 클라우드 배포<br>
                                        DB: MariaDB / Oracle<br>
                                        기술: 1. JAVA - JSP / Spring/Boot<br>
                                        2.Python - Python / OpenCv / Web
                                    </p>
                                </div>

                                <button class="btn btn-outline-primary w-100 mb-4 rounded-pill fw-medium" onclick="addExperience()">
                                    <i class="bi bi-plus-circle me-2"></i>
                                    경력 추가하기
                                </button>

                                <div class="mb-4">
                                    <label class="form-label fw-medium">보유 핵심 스킬 (Transferable Skills)</label>
                                    <div class="row g-2">
                                        <div class="col-6">
                                            <div class="form-check p-0">
                                                <input class="form-check-input me-2" type="checkbox" id="skill1" value="communication" style="margin-left: 0.5em;">
                                                <label class="form-check-label small" for="skill1">커뮤니케이션 능력</label>
                                            </div>
                                            <div class="form-check p-0">
                                                <input class="form-check-input me-2" type="checkbox" id="skill2" value="problem-solving" style="margin-left: 0.5em;">
                                                <label class="form-check-label small" for="skill2">문제해결력</label>
                                            </div>
                                            <div class="form-check p-0">
                                                <input class="form-check-input me-2" type="checkbox" id="skill3" value="leadership" checked style="margin-left: 0.5em;">
                                                <label class="form-check-label small" for="skill3">리더십</label>
                                            </div>
                                            <div class="form-check p-0">
                                                <input class="form-check-input me-2" type="checkbox" id="skill4" value="creativity" checked style="margin-left: 0.5em;">
                                                <label class="form-check-label small" for="skill4">기술/코딩</label>
                                            </div>
                                        </div>

                                        <div class="col-6">
                                            <div class="form-check p-0">
                                                <input class="form-check-input me-2" type="checkbox" id="skill5" value="analytical" style="margin-left: 0.5em;">
                                                <label class="form-check-label small" for="skill5">데이터분석</label>
                                            </div>
                                            <div class="form-check p-0">
                                                <input class="form-check-input me-2" type="checkbox" id="skill6" value="teamwork" style="margin-left: 0.5em;">
                                                <label class="form-check-label small" for="skill6">디자인</label>
                                            </div>
                                            <div class="form-check p-0">
                                                <input class="form-check-input me-2" type="checkbox" id="skill7" value="time-management" style="margin-left: 0.5em;">
                                                <label class="form-check-label small" for="skill7">협상 능력</label>
                                            </div>
                                            <div class="form-check p-0">
                                                <input class="form-check-input me-2" type="checkbox" id="skill8" value="technical" style="margin-left: 0.5em;">
                                                <label class="form-check-label small" for="skill8">부서 서류</label>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <button class="btn btn-success w-100 rounded-pill fw-medium shadow-sm" onclick="saveSkillsExperience()">
                                    <i class="bi bi-save me-2"></i>
                                    역량 및 경험 저장
                                </button>
                            </div>
                        </div>

                        <div class="card shadow-lg mb-4 rounded-3">
                            <div class="card-header bg-white border-bottom p-3">
                                <h5 class="mb-0 fw-bold text-dark">
                                    <i class="bi bi-heart text-danger me-2"></i>
                                    직업 가치관
                                </h5>
                            </div>
                            <div class="card-body">
                                <p class="text-muted small mb-3">업무 선택 시 가장 중요하게 생각하는 가치를 선택해주세요.</p>

                                <div class="d-grid gap-3">
                                    <button class="btn btn-outline-dark text-start border rounded-3 p-3 shadow-sm" onclick="selectValue('salary')">
                                        <i class="bi bi-currency-dollar me-2 text-primary fs-5"></i>
                                        <span class="fw-medium">경제적 보상</span>
                                    </button>

                                    <button class="btn btn-outline-dark text-start border rounded-3 p-3 shadow-sm" onclick="selectValue('stability')">
                                        <i class="bi bi-shield-check me-2 text-primary fs-5"></i>
                                        <span class="fw-medium">업무 안정</span>
                                    </button>

                                    <button class="btn btn-outline-dark text-start border rounded-3 p-3 shadow-sm" onclick="selectValue('worklife')">
                                        <i class="bi bi-heart-pulse me-2 text-primary fs-5"></i>
                                        <span class="fw-medium">워라밸</span>
                                    </button>

                                    <button class="btn btn-outline-dark text-start border rounded-3 p-3 shadow-sm" onclick="selectValue('growth')">
                                        <i class="bi bi-graph-up-arrow me-2 text-primary fs-5"></i>
                                        <span class="fw-medium">수혜적 목표</span>
                                    </button>

                                    <button class="btn btn-outline-dark text-start border rounded-3 p-3 shadow-sm" onclick="selectValue('recognition')">
                                        <i class="bi bi-trophy me-2 text-primary fs-5"></i>
                                        <span class="fw-medium">그룹 인정</span>
                                    </button>

                                    <button class="btn btn-outline-dark text-start border rounded-3 p-3 shadow-sm" onclick="selectValue('autonomy')">
                                        <i class="bi bi-globe me-2 text-primary fs-5"></i>
                                        <span class="fw-medium">자율성</span>
                                    </button>
                                </div>

                                <div class="mt-4 p-3 bg-light rounded-3" id="selectedValues">
                                    <small class="text-muted d-block mb-1 fw-medium">선택된 가치:</small>
                                    <div id="valuesList" class="d-flex flex-wrap gap-2">
                                        <span class="badge bg-secondary text-white rounded-pill px-3 py-2 fw-normal">아직 선택하지 않음</span>
                                    </div>
                                </div>

                                <button class="btn btn-primary w-100 mt-3 rounded-pill fw-medium shadow-sm" onclick="saveWorkValues()">
                                    <i class="bi bi-save me-2"></i>
                                    가치관 저장
                                </button>
                            </div>
                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="card shadow-lg mb-4 rounded-3">
                            <div class="card-header bg-white border-bottom p-3">
                                <h5 class="mb-0 fw-bold text-dark">
                                    <i class="bi bi-lightbulb text-info me-2"></i>
                                    진로 가능성
                                </h5>
                            </div>
                            <div class="card-body">
                                <p class="text-muted small mb-4">
                                    재능, 중요하게 생각하는 강점이나, 미래 3가지를 선택해주세요.
                                </p>

                                <div class="row g-3">
                                    <div class="col-6">
                                        <button class="btn btn-outline-primary w-100 d-flex flex-column align-items-center justify-content-center p-3 rounded-3 shadow-sm h-100" onclick="selectCareerOption('economic')">
                                            <i class="bi bi-graph-up fs-3 mb-2 text-primary"></i>
                                            <span class="small fw-medium">경제적 가능성</span>
                                        </button>
                                    </div>

                                    <div class="col-6">
                                        <button class="btn btn-outline-primary w-100 d-flex flex-column align-items-center justify-content-center p-3 rounded-3 shadow-sm h-100" onclick="selectCareerOption('security')">
                                            <i class="bi bi-shield-lock fs-3 mb-2 text-primary"></i>
                                            <span class="small fw-medium">안정성 (담보)</span>
                                        </button>
                                    </div>

                                    <div class="col-6">
                                        <button class="btn btn-outline-primary w-100 d-flex flex-column align-items-center justify-content-center p-3 rounded-3 shadow-sm h-100" onclick="selectCareerOption('development')">
                                            <i class="bi bi-rocket-takeoff fs-3 mb-2 text-primary"></i>
                                            <span class="small fw-medium">능력 발전</span>
                                        </button>
                                    </div>

                                    <div class="col-6">
                                        <button class="btn btn-outline-primary w-100 d-flex flex-column align-items-center justify-content-center p-3 rounded-3 shadow-sm h-100" onclick="selectCareerOption('condition')">
                                            <i class="bi bi-clock-history fs-3 mb-2 text-primary"></i>
                                            <span class="small fw-medium">근무 조건</span>
                                        </button>
                                    </div>

                                    <div class="col-6">
                                        <button class="btn btn-outline-primary w-100 d-flex flex-column align-items-center justify-content-center p-3 rounded-3 shadow-sm h-100" onclick="selectCareerOption('benefit')">
                                            <i class="bi bi-people fs-3 mb-2 text-primary"></i>
                                            <span class="small fw-medium">사회 공헌</span>
                                        </button>
                                    </div>

                                    <div class="col-6">
                                        <button class="btn btn-outline-primary w-100 d-flex flex-column align-items-center justify-content-center p-3 rounded-3 shadow-sm h-100" onclick="selectCareerOption('freedom')">
                                            <i class="bi bi-compass fs-3 mb-2 text-primary"></i>
                                            <span class="small fw-medium">자율성</span>
                                        </button>
                                    </div>
                                </div>

                                <div class="mt-4 p-3 bg-light rounded-3">
                                    <small class="text-muted d-block mb-1 fw-medium">선택된 가능성:</small>
                                    <div id="selectedOptions" class="d-flex flex-wrap gap-2">
                                        <span class="badge bg-secondary text-white rounded-pill px-3 py-2 fw-normal">선택하지 않음</span>
                                    </div>
                                </div>

                                <button class="btn btn-info w-100 mt-3 rounded-pill fw-medium shadow-sm" onclick="saveCareerOptions()">
                                    <i class="bi bi-save me-2"></i>
                                    진로 가능성 저장
                                </button>
                            </div>
                        </div>
<!-- 
                            ============================================
                            신호 근무 환경 섹션
                            백엔드: POST /api/profile/work-environment
                            ============================================
                        -->

<div class="col-lg-6">
    <div class="card shadow-sm mb-4">
        <div class="card-header bg-white">
            <h5 class="mb-0">
                <i class="bi bi-building-check text-success me-2"></i>
                선호 근무 환경
            </h5>
        </div>
        <div class="card-body">
            <p class="text-muted small mb-3">업무를 선택하실 때 고려하는 몇 가지 선호 조건을 선택해 주세요.</p>

            <div class="mb-3">
                <label for="companySize" class="form-label fw-bold">회사 규모</label>
                <select class="form-select" id="companySize">
                    <option selected disabled>회사 규모를 선택해 주세요</option>
                    <option value="large">대기업</option>
                    <option value="medium">중견기업</option>
                    <option value="small">중소기업</option>
                    <option value="startup">스타트업</option>
                    <option value="any">무관</option>
                </select>
            </div>

            <div class="mb-3">
                <label for="workType" class="form-label fw-bold">선호 근무 형태</label>
                <select class="form-select" id="workType">
                    <option selected disabled>선호하는 근무 형태를 선택해 주세요</option>
                    <option value="office">사무실 근무 (전일 출근)</option>
                    <option value="remote">재택근무 (원격 근무)</option>
                    <option value="hybrid">하이브리드 (일부 재택/일부 출근)</option>
                    <option value="flexible">자율 출퇴근</option>
                </select>
            </div>

            <div class="mb-3">
                <label for="salaryExpectation" class="form-label fw-bold">희망 연봉 (세전)</label>
                <select class="form-select" id="salaryExpectation">
                    <option selected disabled>희망 연봉을 선택해 주세요</option>
                    <option value="3000">3,000만원 이상</option>
                    <option value="4000">4,000만원 이상</option>
                    <option value="5000">5,000만원 이상</option>
                    <option value="6000">6,000만원 이상</option>
                    <option value="7000">7,000만원 이상</option>
                    <option value="negotiable">협의 가능</option>
                </select>
            </div>

            <button class="btn btn-success w-100" onclick="saveWorkEnvironment()">
                <i class="bi bi-save me-2"></i>
                근무 환경 저장
            </button>
        </div>
    </div>

    <div class="card shadow-sm mb-4">
        <div class="card-header bg-white">
            <h5 class="mb-0">
                <i class="bi bi-chat-square-dots text-danger me-2"></i>
                커리어 고민
            </h5>
        </div>
        <div class="card-body">
            <p class="text-muted small mb-3">
                현재 고민하고 계신 커리어 관련 내용을 상세하게 작성해 주시면, 더 정확한 맞춤형 분석을 도와드릴 수 있습니다.
            </p>
            <div class="mb-3">
                <label for="careerConcern" class="form-label fw-bold">현재 커리어 고민 내용</label>
                <textarea class="form-control" id="careerConcern" rows="6" placeholder="현재 고민하고 있는 커리어 관련 내용을 자유롭게 작성해주세요. 예: 직무 전환, 이직 고민, 승진, 업무 스트레스 등"></textarea>
                <small class="text-muted">상세하게 작성할수록 더 정확한 AI 분석을 받을 수 있습니다.</small>
            </div>

            <button class="btn btn-danger w-100" onclick="saveCareerConcerns()">
                <i class="bi bi-save me-2"></i>
                커리어 고민 저장
            </button>
        </div>
    </div>
</div>

<div class="card shadow-sm mb-4 border-primary">
    <div class="card-body text-center">
        <h5 class="mb-3">
            <i class="bi bi-check-circle-fill me-2"></i>
            프로필 작성 완료
        </h5>
        <p class="text-muted mb-3">
            모든 항목을 작성하셨나요? 저장 버튼을 눌러 프로필 작성을 완료하세요.
        </p>

        <button class="btn btn-primary btn-lg px-5" onclick="saveAllProfile()">
            <i class="bi bi-save2 me-2"></i>
            전체 프로필 저장하기
        </button>
    </div>
</div>
   <!-- 
    ============================================
    백엔드 연동 JavaScript 함수들
    ============================================
-->
    <script>
        /**
         * 비밀번호 변경 처리
         * 백엔드: POST /api/auth/change-password
         */
        function handlePasswordChange() {
            console.log('비밀번호 변경 - 백엔드 POST /api/auth/change-password');
            // TODO: 비밀번호 변경 모달 또는 페이지로 이동
            alert('비밀번호 변경 페이지로 이동합니다.');
        }

        /**
         * 희망 커리어 방향 저장
         * 백엔드: POST /api/profile/career-direction
         * 
         * Request Body:
         * {
         *   "industry_field": "string",
         *   "desired_job": "string",
         *   "work_style": "string"
         * }
         */
        function saveCareerDirection() {
            const industryField = document.getElementById('industryField').value;
            const desiredJob = document.getElementById('desiredJob').value;
            const workStyle = document.getElementById('workStyle').value;

            console.log('희망 커리어 저장:', {
                industryField,
                desiredJob,
                workStyle
            });

            // TODO: 백엔드로 데이터 전송
            /*
            fetch('/api/profile/career-direction', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify({
                    industry_field: industryField,
                    desired_job: desiredJob,
                    work_style: workStyle
                })
            })
            .then(response => response.json())
            .then(data => {
                alert('희망 커리어가 저장되었습니다.');
                updateProgress();
            });
            */

            alert('희망 커리어 방향이 저장되었습니다.');
        }

        /**
         * 경력 추가 모달/페이지 열기
         * 백엔드: POST /api/profile/add-experience
         */
        function addExperience() {
            console.log('경력 추가 - 모달 오픈');
            // TODO: 모달 또는 페이지로 이동하여 경력 정보 입력
            alert('경력 추가 모달을 구현해주세요.');
        }

        /**
         * 경력 삭제
         * 백엔드: DELETE /api/profile/experience/{id}
         */
        function removeExperience(experienceId) {
            console.log('경력 삭제:', experienceId);
            if (confirm('이 경력을 삭제하시겠습니까?')) {
                // TODO: 백엔드로 삭제 요청
                alert('경력이 삭제되었습니다.');
            }
        }

        /**
         * 역량 및 경험 저장
         * 백엔드: POST /api/profile/skills-experience
         */
        function saveSkillsExperience() {
            const skills = [];
            document.querySelectorAll('input[type="checkbox"]:checked').forEach(checkbox => {
                skills.push(checkbox.value);
            });

            console.log('보유 스킬 저장:', skills);

            // TODO: 백엔드로 데이터 전송
            alert('역량 및 경험이 저장되었습니다.');
        }

        /**
         * 직업 가치관 선택
         * 선택된 가치를 배열에 추가/제거
         */
        let selectedWorkValues = [];

        function selectValue(value) {
            const index = selectedWorkValues.indexOf(value);

            if (index > -1) {
                // 이미 선택된 경우 제거
                selectedWorkValues.splice(index, 1);
            } else {
                // 새로 선택
                selectedWorkValues.push(value);
            }

            // UI 업데이트
            updateValuesDisplay();
        }

        function updateValuesDisplay() {
            const valuesList = document.getElementById('valuesList');
            if (selectedWorkValues.length === 0) {
                valuesList.innerHTML = '<span class="badge bg-secondary">아직 선택하지 않음</span>';
            } else {
                valuesList.innerHTML = selectedWorkValues.map(v =>
                    `<span class="badge bg-primary me-1">${v}</span>`
                ).join('');
            }
        }

        /**
         * 직업 가치관 저장
         * 백엔드: POST /api/profile/work-values
         */
        function saveWorkValues() {
            console.log('직업 가치관 저장:', selectedWorkValues);

            // TODO: 백엔드로 데이터 전송
            alert('직업 가치관이 저장되었습니다.');
        }

        /**
         * 진로 가능성 선택
         */
        let selectedCareerOptions = [];

        function selectCareerOption(option) {
            const index = selectedCareerOptions.indexOf(option);

            if (index > -1) {
                selectedCareerOptions.splice(index, 1);
            } else {
                // 최대 3개까지만 선택 가능
                if (selectedCareerOptions.length >= 3) {
                    alert('최대 3개까지만 선택할 수 있습니다.');
                    return;
                }
                selectedCareerOptions.push(option);
            }

            updateOptionsDisplay();
        }

        function updateOptionsDisplay() {
            const optionsDiv = document.getElementById('selectedOptions');
            if (selectedCareerOptions.length === 0) {
                optionsDiv.innerHTML = '<span class="badge bg-secondary">선택하지 않음</span>';
            } else {
                optionsDiv.innerHTML = selectedCareerOptions.map(o =>
                    `<span class="badge bg-info me-1">${o}</span>`
                ).join('');
            }
        }

        /**
         * 진로 가능성 저장
         * 백엔드: POST /api/profile/career-options
         */
        function saveCareerOptions() {
            console.log('진로 가능성 저장:', selectedCareerOptions);

            // TODO: 백엔드로 데이터 전송
            alert('진로 가능성이 저장되었습니다.');
        }

        /**
         * 근무 환경 저장
         * 백엔드: POST /api/profile/work-environment
         */
        function saveWorkEnvironment() {
            const companySize = document.getElementById('companySize').value;
            const workType = document.getElementById('workType').value;
            const salaryExpectation = document.getElementById('salaryExpectation').value;

            console.log('근무 환경 저장:', {
                companySize,
                workType,
                salaryExpectation
            });

            // TODO: 백엔드로 데이터 전송
            alert('근무 환경이 저장되었습니다.');
        }

        /**
         * 커리어 고민 저장
         * 백엔드: POST /api/profile/career-concerns
         */
        function saveCareerConcerns() {
            const concern = document.getElementById('careerConcern').value;

            if (!concern.trim()) {
                alert('고민 내용을 입력해주세요.');
                return;
            }

            console.log('커리어 고민 저장:', concern);

            // TODO: 백엔드로 데이터 전송
            alert('커리어 고민이 저장되었습니다.');
        }

        /**
         * 전체 프로필 저장
         * 백엔드: POST /api/profile/save-all
         * 
         * 모든 섹션의 데이터를 한번에 전송
         */
        function saveAllProfile() {
            console.log('전체 프로필 저장 - 백엔드 POST /api/profile/save-all');

            // TODO: 모든 입력 데이터를 수집하여 백엔드로 전송
            /*
            const profileData = {
                career_direction: {...},
                skills_experience: {...},
                work_values: selectedWorkValues,
                career_options: selectedCareerOptions,
                work_environment: {...},
                career_concerns: {...}
            };
            
            fetch('/api/profile/save-all', {
                method: 'POST',
                headers: {'Content-Type': 'application/json'},
                body: JSON.stringify(profileData)
            })
            .then(response => response.json())
            .then(data => {
                alert('프로필이 모두 저장되었습니다!');
                window.location.href = '/dashboard';
            });
            */

            if (confirm('모든 프로필 정보를 저장하시겠습니까?')) {
                alert('프로필이 성공적으로 저장되었습니다!');
                // 대시보드로 이동
                // window.location.href = '/dashboard';
            }
        }

        /**
         * 진행률 업데이트 함수
         * 백엔드: GET /api/profile/calculate-progress
         */
        function updateProgress() {
            // TODO: 백엔드에서 완성도 계산하여 UI 업데이트
            console.log('프로필 진행률 업데이트');
        }

        /**
         * 페이지 로드 시 기존 프로필 데이터 불러오기
         * 백엔드: GET /api/profile/load
         */
        document.addEventListener('DOMContentLoaded', function() {
            console.log('프로필 데이터 로드 - 백엔드 GET /api/profile/load');

            // TODO: 백엔드에서 저장된 프로필 데이터 가져와서 폼에 채우기
            /*
            fetch('/api/profile/load')
                .then(response => response.json())
                .then(data => {
                    // 각 입력 필드에 데이터 채우기
                    if (data.career_direction) {
                        document.getElementById('industryField').value = data.career_direction.industry_field || '';
                        // ... 나머지 필드들도 동일하게 처리
                    }
                })
                .catch(error => console.error('프로필 로드 실패:', error));
            */
        });
    </script>
</body>

</html>
